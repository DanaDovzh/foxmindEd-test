import{A as s,Aa as m,Nb as l,O as p,S as d,cc as f,m as o,p as a,x as c}from"./chunk-XBVD5SFW.js";var y=class n{transform(e){let t=f.find(r=>r.value===e);return t?t.label:e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=m({name:"categoryLabel",type:n,pure:!0})};var u=class n{dataUrl="assets/incidents.json";http=d(l);loadData(e){return this.http.get(this.dataUrl).pipe(s(300),a(t=>this.applyFilters(t,e)),c(t=>(console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F incidents.json",t),o([]))))}applyFilters(e,t){return t?e.filter(r=>{let I=!t.categories?.length||t.categories.includes(r.category),g=!t.priority||r.severity===+t.priority,i=new Date(r.createdAt),b=(!t.dateRange?.from||i>=new Date(t.dateRange.from))&&(!t.dateRange?.to||i<=new Date(t.dateRange.to));return I&&g&&b}):e}getById(e){return this.loadData().pipe(a(t=>t.find(r=>r.id===e)))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=p({token:n,factory:n.\u0275fac,providedIn:"root"})};export{y as a,u as b};
